# ë™ì‹œì„± ì œì–´ 2íŽ¸

1. Unrecoverable schedule
2. Recoverable schedule
3. cascadeless schedule  
4. strict schedule  
***

1. Unrecoverable schedule
- schedule ë‚´ì—ì„œ commitëœ transactionì´ rollbackëœ transactionì´ write í–ˆì—ˆë˜ ë°ì´í„°ë¥¼ ì½ì€ ê²½ìš°
- rollbackì„ í•´ë„ ì´ì „ ìƒíƒœë¡œ íšŒë³µ ë¶ˆê°€ëŠ¥í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì´ëŸ° scheduleì€ DBMSê°€ í—ˆìš©í•˜ë©´ X

> ì˜ˆì‹œ    

![image](https://github.com/mithzinf/DB-Study/assets/124668883/0b51a8c0-6113-4c5a-b1c4-a1442359e4f8)  
Transaction2ì—ì„œ writeí•œ ë°ì´í„°ë¥¼ Transaction1ì—ì„œ ì½ì€ í›„, Transaction1ì€ commitì„ í–ˆì§€ë§Œ Transaction2ëŠ”rollbackì„ í•œ ê²½ìš°  
ì¦‰, ì´ëŸ° ê²½ìš°ì— Transaction1ì€ ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì½ì–´ì„œ ìž‘ì—…ì„ í•œ ì…ˆì´ ë˜ëŠ” ê²ƒ

âˆ´ Hì˜ ìž”ì•¡ : 200ë§Œì› / Kì˜ ìž”ì•¡ : 80ë§Œì›ìœ¼ë¡œ, 20ë§Œì›ì´ ê³µì¤‘ë¶„í•´ë˜ê³  **ë°ì´í„° ë¶ˆì¼ì¹˜ ë°œìƒ**  
ì´ë ‡ê²Œ ìŠ¤ì¼€ì¤„ ë‚´ì—ì„œ ì»¤ë°‹ëœ íŠ¸ëžœìž­ì…˜ì´ ë¡¤ë°±ëœ íŠ¸ëžœìž­ì…˜ì˜ writeí•œ ë°ì´í„°ë¥¼ readí•œ ê²½ìš° **Unrecoverable schedule** ì´ë¼ê³  í•¨  

ðŸ¤¯ê·¸ëŸ¬ë©´ ì–´ë–¤ scheduleì„ ì¨ì•¼í•˜ëŠ”ê°€? ë‹µ : **recoverable schedule**  
ðŸ¤¯ì–´ë–¤ scheduleì´ recoverableí•˜ë‹¤ê³  ë³¼ ìˆ˜ ìžˆëŠ”ê°€?


2. Recoverable schedule  
- schedule ë‚´ì—ì„œ ê·¸ ì–´ë–¤ transactionë„ ìžì‹ ì´ ì½ì€ ë°ì´í„°ë¥¼ writeí•œ transactionì´ ë¨¼ì € commit/rollback í•˜ê¸° ì „ê¹Œì§€ëŠ” commitì„ í•˜ì§€ ì•ŠëŠ” ê²ƒ  
  

> ì˜ˆì‹œ

![image](https://github.com/mithzinf/DB-Study/assets/124668883/5154f02a-b366-4212-b741-784bddf48551)    

ã„±. 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ 2ë²ˆ íŠ¸ëžœìž­ì…˜ì— ì˜ì¡´ì„ í•˜ê³  ìžˆëŠ” ìƒí™© (ì´ìœ  : 2ë²ˆ íŠ¸ëžœìž­ì…˜ì´ writeí•œ ê²ƒì„ 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ readë¥¼ í•˜ê¸° ë•Œë¬¸)    
ã„´. 2ë²ˆ íŠ¸ëžœìž­ì…˜ì´ ë¨¼ì € commití•  ìˆ˜ ìžˆë„ë¡ ì§€ì› & ê¸°ë‹¤ë¦¼     
ã„·. ê·¸ ì´í›„, 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ ì´ì–´ì„œ commit ì§„í–‰

ë§Œì¼, 2ë²ˆ íŠ¸ëžœìž­ì…˜ì´ rollbackì„ í•´ì•¼í•˜ëŠ” ìƒí™©ì´ë¼ë©´?  
ã„±. 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ 2ë²ˆ íŠ¸ëžœìž­ì…˜ì— ì˜ì¡´ì„ í•˜ê³  ìžˆëŠ” ìƒí™© (ì´ìœ  : 2ë²ˆ íŠ¸ëžœìž­ì…˜ì´ writeí•œ ê²ƒì„ 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ readë¥¼ í•˜ê¸° ë•Œë¬¸)   
ã„´. 2ë²ˆ íŠ¸ëžœìž­ì…˜ì´ ë¨¼ì € rollbackì„ í•  ìˆ˜ ìžˆë„ë¡ ì§€ì› & ê¸°ë‹¤ë¦¼   
ã„·. ê·¸ ì´í›„, 1ë²ˆ íŠ¸ëžœìž­ì…˜ì´ ì´ì–´ì„œ rollback ì§„í–‰  


3. Cascadeless schedule
- avoid cascading rollback
- schedule ë‚´ì—ì„œ íŠ¸ëžœìž­ì…˜ì´ ì»¤ë°‹ë˜ì§€ ì•ŠëŠ” í•œ, ì–´ë–¤ transactionë„ writeí•œ ë°ì´í„°ë¥¼ readí•  ìˆ˜ X  

> ì˜ˆì‹œ  
> H ì‚¬ìž¥ë‹˜ì´ 3ë§Œì›ì´ë˜ í”¼ìž ê°€ê²©ì„ 2ë§Œì›ìœ¼ë¡œ ë‚®ì¶”ë ¤ëŠ”ë°, Kì§ì›ë„ ë™ì¼í•œ í”¼ìžì˜ ê°€ê²©ì„ ì‹¤ìˆ˜ë¡œ 1ë§Œì›ìœ¼ë¡œ ë‚®ì¶”ë ¤ í–ˆì„ ë•Œ  
> ì´ ë‘ ê°œì˜ íŠ¸ëžœìž­ì…˜(ì‚¬ìž¥ì˜ ê°€ê²© í• ì¸, ì§ì›ì˜ ê°€ê²© í• ì¸)ì´ ë™ì‹œì— ì§„í–‰í•˜ëŠ” ê²½ìš°, ê²°ê³¼ : íŠ¸ëžœìž­ì…˜ 2ì˜ ê²°ê³¼ëŠ” ì‚¬ë¼ì§€ê²Œ ë¨  
 
![image](https://github.com/mithzinf/DB-Study/assets/124668883/2738bd03-a178-4d9a-b586-b7c4e73aae9d)


4. strict schedule
- cascadeless scheduleì— ë³´ì™„ì„ í•œ schedule  
- schedule ë‚´ì—ì„œ ì–´ë–¤ transactionë„ commit ë˜ì§€ ì•Šì€ transactionë“¤ì´ writeí•œ ë°ì´í„°ëŠ” ì“°ì§€ë„ ì½ì§€ë„ ì•ŠëŠ” ê²½ìš°  
- rollbackí•  ë•Œ recoveryê°€ ì‰½ë‹¤, transaction ì´ì „ ìƒíƒœë¡œ ëŒë ¤ë†“ê¸°ë§Œ í•˜ë©´ ë¨  
- ê°€ìž¥ ì—„ê²©í•œ schedule  

> ì˜ˆì‹œ  

![image](https://github.com/mithzinf/DB-Study/assets/124668883/04113333-ee1e-4e8b-8ec2-8089621c8f50)


   





   
