# B-Tree ì¸ë±ìŠ¤ (2ë¶€)  
1. B-Tree ë°ì´í„° ì‚­ì œ  
  1-1. ì‚­ì œ ì˜ˆì‹œ  
  1-2. ì‚­ì œ ì‹œ ì¬ì¡°ì • ì˜ˆì‹œ
2. B-Tree Internal ë…¸ë“œ - ë°ì´í„° ì‚­ì œ   
   2-1. ì‚­ì œ ì˜ˆì‹œ  
   2-2. 5ì B-Tree ì‚­ì œ ì˜ˆì‹œ       
 

---


1. ë°ì´í„° ì‚­ì œ

- íŠ¹ì§•
  - ì‚­ì œë„ í•­ìƒ leaf ë…¸ë“œì—ì„œ ë°œìƒ
  - ì‚­ì œ í›„ ìµœì†Œ key ìˆ˜ë³´ë‹¤ ì ì–´ì¡Œë‹¤ë©´ ì¬ì¡°ì •í•¨
      1. key ìˆ˜ê°€ ì—¬ìœ ìˆëŠ” í˜•ì œì˜ ì§€ì›ì„ ë°›ìŒ
      2. 1ë²ˆì´ ë¶ˆê°€ëŠ¥í•˜ë©´ ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ê³  í˜•ì œì™€ í•©ì¹¨
      3. 2ë²ˆ í›„ ë¶€ëª¨ì— ë¬¸ì œê°€ ìˆë‹¤ë©´ ê±°ê¸°ì„œ ë‹¤ì‹œ ì¬ì¡°ì •
  - B-Treeì—ì„œ ê° ë…¸ë“œì˜ ìµœì†Œ key ìˆ˜ : **(M/2 (ë°˜ì˜¬ë¦¼)) -1**
  - ex. 3ì°¨ B-treeì—ì„œ ê° ë…¸ë“œì˜ ìµœì†Œ key ìˆ˜: **1** (root node ì œì™¸)
 


1-1. ì‚­ì œ ì˜ˆì‹œ  


STEP 1. 6 ì‚­ì œ  

![image](https://github.com/mithzinf/DB-Study/assets/124668883/3b554229-8c7d-49be-abe6-7a528a87347c)  

STEP 2. 5 ì‚­ì œ  

![image](https://github.com/mithzinf/DB-Study/assets/124668883/2a99c4b6-6daf-4145-8547-2a51d84654a4)  
ğŸ‘‰ì‚­ì œ í›„, ë…¸ë“œì˜ ê° key ìˆ˜ê°€ 0ì´ê¸° ë•Œë¬¸ì—, ì € ë¹ˆ ìë¦¬ëŠ” ì¬ì¡°ì •ì´ í•„ìš”í•¨  
      1. key ìˆ˜ê°€ ì—¬ìœ ìˆëŠ” í˜•ì œì˜ ì§€ì›ì„ ë°›ìŒ
      2. 1ë²ˆì´ ë¶ˆê°€ëŠ¥í•˜ë©´ ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ê³  í˜•ì œì™€ í•©ì¹¨
      3. 2ë²ˆ í›„ ë¶€ëª¨ì— ë¬¸ì œê°€ ìˆë‹¤ë©´ ê±°ê¸°ì„œ ë‹¤ì‹œ ì¬ì¡°ì •




---



1-2. 3ì°¨ B-Tree ì‚­ì œ ì‹œ ì¬ì¡°ì • ì˜ˆì‹œ  

##### 1. key ìˆ˜ê°€ ì—¬ìœ ìˆëŠ” í˜•ì œì˜ ì§€ì›ì„ ë°›ëŠ”ë‹¤(3 ì‚­ì œ)    

![image](https://github.com/mithzinf/DB-Study/assets/124668883/f3e15fdd-831f-4105-8efd-c4680adb0fc0)  

```
1.1 ë™ìƒ (ì™¼ìª½ í˜•ì œ)ì´ ì—¬ìœ ê°€ ìˆìœ¼ë©´  
=> ë™ìƒì˜ ê°€ì¥ í° keyë¥¼ ë¶€ëª¨ ë…¸ë“œì˜ ë‚˜ì™€ ë™ìƒ ì‚¬ì´ì— ë‘”ë‹¤.  
=> ì›ë˜ ê·¸ ìë¦¬ì— ìˆë˜ keyëŠ” ë‚˜ì˜ ê°€ì¥ ì™¼ìª½ì— ë‘”ë‹¤.  

1.2 ë™ìƒ (ì™¼ìª½ í˜•ì œ)ì´ ì—¬ìœ ê°€ ì—†ê³ , í˜• (ì˜¤ë¥¸ìª½ í˜•ì œ)ì´ ì—¬ìœ ê°€ ìˆë‹¤ë©´,  
=> í˜•ì˜ ê°€ì¥ ì‘ì€ keyë¥¼ ë¶€ëª¨ ë…¸ë“œì˜ ë‚˜ì™€ í˜• ì‚¬ì´ì— ë‘”ë‹¤.  
=> ì›ë˜ ê·¸ ìë¦¬ì— ìˆë˜ keyëŠ” ë‚˜ì˜ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ë‘”ë‹¤.  
```

**ìµœì¢…**   
![image](https://github.com/mithzinf/DB-Study/assets/124668883/12e62a7e-67a9-4e56-9326-7bf5b7c1c040)





##### 2. 1ë²ˆì´ ë¶ˆê°€ëŠ¥í•˜ë©´ ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ê³  í˜•ì œì™€ í•©ì¹œë‹¤(=ì™¼ìª½ìœ¼ë¡œ ì˜®ê¸´ë‹¤) (7 ì‚­ì œ)   
![image](https://github.com/mithzinf/DB-Study/assets/124668883/d240674e-8ab4-4b11-b35e-f5422a734797)    
ğŸ¤¯ë¬¸ì œì  : ì™¼ìª½, ì˜¤ë¥¸ìª½ í˜•ì œ ë…¸ë“œë¥¼ ë³´ë‹ˆ ë‹¤ ì—¬ìœ ê°€ ì—†ëŠ” ìƒí™© -> 1ë²ˆ ë°©ë²• ë¶ˆê°€ëŠ¥í•œ ìƒí™© -> 2ë²ˆ ë°©ë²•ìœ¼ë¡œ ë„˜ì–´ê°€ì•¼ í•¨    

```
2.1 ë™ìƒì´ ìˆìœ¼ë©´ ë™ìƒê³¼ ë‚˜ ì‚¬ì´ì˜ keyë¥¼ ë¶€ëª¨ë¡œë¶€í„° ë°›ìŒ  
=> ê·¸ keyì™€ ë‚˜ì˜ keyë¥¼ ì°¨ë¡€ëŒ€ë¡œ ë™ìƒì—ê²Œ í•©ì¹¨  
=> ë‚˜ì˜ ë…¸ë“œë¥¼ ì‚­ì œ  

1.2 ë™ìƒì´ ì—†ìœ¼ë©´, í˜•ê³¼ ë‚˜ ì‚¬ì´ì˜ keyë¥¼ ë¶€ëª¨ë¡œë¶€í„° ë°›ìŒ  
=> ê·¸ keyì™€ í˜•ì˜ keyë¥¼ ì°¨ë¡€ëŒ€ë¡œ ë‚˜ì—ê²Œ í•©ì¹¨  
=> í˜•ì˜ ë…¸ë“œë¥¼ ì‚­ì œ  
```


**ìµœì¢… : ë¶€ëª¨ ë…¸ë“œ í•œ ìª½ì´ ì‚¬ë¼ì§€ê³ , ê·¸ ê°’ì´ ë™ìƒ ë…¸ë“œì˜ ê°’ìœ¼ë¡œ ë“¤ì–´ê°**   
![image](https://github.com/mithzinf/DB-Study/assets/124668883/c06cdf18-3c3b-4310-823b-466da878166b)   


*ì˜ˆì œ ì´ì–´ì„œ  :2 ì‚­ì œ*  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/35e292c0-87f9-47ac-8158-5e0a9e3e4fc2)  

**2 ì‚­ì œ ìµœì¢…**  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/db1f7a29-8d4d-4a76-9ef0-d809ccea0d75)  

*ì˜ˆì œ ì´ì–´ì„œ : 1 ì‚­ì œ*  

![image](https://github.com/mithzinf/DB-Study/assets/124668883/ff6fec5b-4183-4b5a-b12f-c3b4833b332f)  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/926c242d-2a12-4852-88df-80d0cea62d8b)  


**1 ì‚­ì œ ìµœì¢…**   

![image](https://github.com/mithzinf/DB-Study/assets/124668883/565970fa-bf27-4fdd-8584-5e5c2ac4d05e)   
ğŸ¤¯ë¬¸ì œì  : ë¶€ëª¨ì˜ ì§€ì›ì„ ë°›ê³ , í˜•ì œì™€ í•©ì¹˜ê³  ë‚˜ë‹ˆ, ë¶€ëª¨ ë…¸ë“œì˜ key ìˆ˜ê°€ 0ì„    




##### 3. ë¶€ëª¨ê°€ ì§€ì›í•œ í›„ ë¶€ëª¨ì— ë¬¸ì œê°€ ìˆë‹¤ë©´ ìƒí™©ì— ë§ê²Œ ëŒ€ì‘í•œë‹¤  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/e73a51dd-c086-4fd4-ad83-9b39469a12be)  
í˜„ì¬ ìƒí™© : ë¶€ëª¨ ë…¸ë“œì˜ key ìˆ˜ê°€ 0ì¸ ë¬¸ì œê°€ ë°œìƒ


```
ë¶€ëª¨ê°€ ì§€ì›í•œ í›„ ë¶€ëª¨ì˜ ë¬¸ì œê°€ ìˆë‹¤ë©´ ìƒí™©ì— ë§ê²Œ ëŒ€ì‘í•˜ê¸°

3.1 ë¶€ëª¨ê°€ root ë…¸ë“œê°€ ì•„ë‹ˆë¼ë©´  
=> í•´ë‹¹ ìœ„ì¹˜ì—ì„œë¶€í„° ë‹¤ì‹œ 1ë²ˆë¶€í„° ì¬ì¡°ì •ì„ ì‹œì‘  

3.2 ë¶€ëª¨ê°€ root ë…¸ë“œì¸ë°ë‹¤ ë¹„ì–´ìˆë‹¤ë©´  
=> ë¶€ëª¨ ë…¸ë“œë¥¼ ì‚­ì œ!  
=> ì§ì „ì˜ í•©ì³ì§„ nodeê°€ root ë…¸ë“œê°€ ë¨  
```


1. ë¶€ëª¨(ì´ˆë¡ìƒ‰ ë…¸ë“œ)ì˜ ì§€ì›ì„ ë°›ê¸°ë¡œ í•˜ê³ , í˜•ì œ ë…¸ë“œì™€ í•©ì¹˜ê¸°ë¡œ í•¨  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/2fda9907-e07c-41e9-be63-b90ac42019ab)  
2. í•©ì¹œ í›„  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/4888f393-61e3-4b4d-b5e4-6ee48441e65c)
![image](https://github.com/mithzinf/DB-Study/assets/124668883/59ec021d-2bd0-40d0-904d-947f667b7124)  
3. í•©ì¹œ í›„, ë¶€ëª¨ì—ê²Œ ë¬¸ì œê°€ ìƒê²¼ìŒ(ë¶€ëª¨ ë…¸ë“œ key ë‹¤ í„¸ë¦¼) > ë¶€ëª¨ ë…¸ë“œ ì‚­ì œ ì²˜ë¦¬ í•´ì¤Œ  
4. ìµœì¢…   
![image](https://github.com/mithzinf/DB-Study/assets/124668883/1f1f26fb-0f50-401a-91ad-234e98b453cf)



**ì •ë¦¬ : B-Tree ë°ì´í„° ì‚­ì œ -> leaf ë…¸ë“œì—ì„œ ì‚­ì œí•˜ê³  í•„ìš”í•˜ë©´ ì¬ì¡°ì •ì„ ê±°ì¹œë‹¤**  


ğŸ˜¯ ê·¸ë ‡ë‹¤ë©´? Internal ë…¸ë“œ ë°ì´í„° ì‚­ì œí•  ë• ì–´ë–»ê²Œ í•´ì•¼í•˜ì§€?
   

---

2. B-Tree Internal ë…¸ë“œ - ë°ì´í„° ì‚­ì œ    
- ì •ì˜ : leaf ë…¸ë“œì— ìˆëŠ” ë°ì´í„°ì™€ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ í›„ ì‚­ì œ  

- ë°©ë²•
 - internal ë…¸ë“œì— ìˆëŠ” ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë ¤ë©´ leaf ë…¸ë“œì— ìˆëŠ” ë°ì´í„°ì™€ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ í›„ ì‚­ì œ
   - leaf ë…¸ë“œì— ìˆëŠ” ë°ì´í„° ì¤‘ì— ì–´ë–¤ ë°ì´í„°ì™€ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì¤„ ê²ƒì¸ì§€ê°€ ì´ìŠˆê°€ ë¨  
   - ì„ ì„ìë‚˜ í›„ì„ìëŠ” í•­ìƒ leaf ë…¸ë“œì— ìˆìœ¼ë¯€ë¡œ, ì‚­ì œí•  ë°ì´í„°ì˜ ì„ ì„ìë‚˜ í›„ì„ìì™€ ìœ„ì¹˜ë¥¼ êµì²´
   - ì„ ì„ì(predecessor) : ë‚˜ë³´ë‹¤ ì‘ì€ ë°ì´í„°ë“¤ ì¤‘ì—ì„œ ê°€ì¥ í° ë°ì´í„°
   - í›„ì„ì(successor) : ë‚˜ë³´ë‹¤ í° ë°ì´í„°ë“¤ ì¤‘ì—ì„œ ê°€ì¥ ì‘ì€ ë°ì´í„°  



2-1. B-Tree Internal ë…¸ë“œ ì‚­ì œ ì˜ˆì‹œ  


1. ì˜ˆì‹œ (ì„ ì„ì pick)  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/e1d6a962-b4ad-4ba9-b678-dd1ba2056c4e)  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/ece2152d-121f-4f28-864b-c3f492b65ba4)
  
![image](https://github.com/mithzinf/DB-Study/assets/124668883/fefe654e-aa2e-43ba-92f0-a983e9eb45be)  




2-2. 5ì B-Tree ì‚­ì œ ì˜ˆì‹œ


![image](https://github.com/mithzinf/DB-Study/assets/124668883/a791dd75-9344-420e-816d-f65baeb41bdf)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/baf5244f-efd8-4206-99bc-a06cc9c3f5f1)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/5dea5ac1-18c9-44c6-b49e-c7a899e12dd5)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/e4113ec2-c51c-45ad-8c44-623730adc423)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/e9a3e476-147e-42e5-9f8d-9892a17f15b8)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/4ce553a3-4012-4eed-b4e9-c1e936275c7f)

![image](https://github.com/mithzinf/DB-Study/assets/124668883/559989b7-98ac-4626-b7a0-cfe58e2e7f43)

![image](https://github.com/mithzinf/DB-Study/assets/124668883/2c31b773-d803-44da-90c6-e47f7401c9a5)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/332154da-2084-4e9c-94ff-d04b53be0118)


![image](https://github.com/mithzinf/DB-Study/assets/124668883/0ac1d90d-b718-44b6-87f2-a27a3b30fea7)


